<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta content="width=device-width, initial-scale=1.0", name="viewport">
        <title>December Third and Fourth</title>
        <link rel="stylesheet" href="/assets/css/styles.css">
        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üèÉ</text></svg>">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,200;0,400;0,700;1,200;1,400;1,700&display=swap" rel="stylesheet">
        <script src="/assets/js/bundle.js"></script>
    </head>
    <body class="text-stone-900 bg-stone-50 dark:text-gray-50 dark:bg-gray-800">
        <div class="flex justify-between items-baseline
    mt-2 mx-auto max-w-prose
    px-2
    ">
    <div>
        <a
            class="font-bold text-stone-900 dark:text-gray-50
                hover:text-blue-500 dark:hover:text-blue-500
            "
            href="/"

        >Home</a>
    </div>
    <div>
        <a
            class="font-bold text-stone-900 dark:text-gray-50
                hover:text-blue-500 dark:hover:text-blue-500
                mr-2 pr-4 border-r-2 border-r-slate-700
            "
            href="/blog.html"

        >Writing</a>
        <button
            id="button"
            aria-describedby="tooltip"
            class="h-6 w-6 rounded-md"
        >
            <div class="dark:hidden">
                ‚òÄÔ∏è
            </div>
            <div class="hidden dark:block">
                üåô
            </div>
        </button>
        <div
            id="tooltip"
            role="tooltip"
            class="bg-black text-white font-bold
                py-1 rounded-md text-sm w-32
                absolute top-0 left-0
                hidden
                z-popover
            "
        >
            <div
                id="light-mode"
                class="py-1 px-2 hover:bg-gray-700 cursor-pointer aria-checked:text-sky-600
                    relative z-[1]">
                ‚òÄÔ∏è Light
            </div>
            <div
                id="dark-mode"
                class="py-1 px-2 hover:bg-gray-700 cursor-pointer aria-checked:text-sky-600">
                üåô Dark
            </div>
            <div
                id="system-mode"
                aria-checked="true"
                class="py-1 px-2 hover:bg-gray-700 cursor-pointer aria-checked:text-sky-600">
                üñ•Ô∏è System
            </div>
            <div
                id="arrow"
                class="absolute bg-black w-2 h-2 rotate-45"
            ></div>
        </div>
        <script type="module">
            import {
                computePosition,
                offset,
                arrow,
            } from 'https://cdn.jsdelivr.net/npm/@floating-ui/dom@1.5.1/+esm';

            const button = document.querySelector('#button');
            const tooltip = document.querySelector('#tooltip');
            const arrowElement = document.querySelector('#arrow');

            function update() {
                computePosition(button, tooltip, {
                    placement: 'bottom-end',
                    middleware: [
                        offset(6),
                        arrow({element: arrowElement})
                    ],
                }).then(({x, y, placement, middlewareData}) => {
                    Object.assign(tooltip.style, {
                        left: `${x}px`,
                        top: `${y}px`,
                    });

                    // Data provdided by arrow()
                    const {x: arrowX, y: arrowY} = middlewareData.arrow;

                    const staticSide = {
                        top: 'bottom',
                        right: 'left',
                        bottom: 'top',
                        left: 'right',
                    }[placement.split('-')[0]];

                    Object.assign(arrowElement.style, {
                        left: arrowX != null ? `${arrowX}px` : '',
                        top: arrowY != null ? `${arrowY}px` : '',
                        right: '',
                        bottom: '',
                        [staticSide]: '-4px'
                    })
                });
            }

            function toggleTooltip () {
                if (tooltip.style.display == 'block') {
                    tooltip.style.display = '';
                } else {
                    tooltip.style.display = 'block';
                    update();
                }
            }

            button.addEventListener('click', function() {
                toggleTooltip()
                if (tooltip.style.display == 'block') {
                    update();
                }
            })
            const lightModeBtn = document.querySelector('#light-mode');
            const darkModeBtn = document.querySelector('#dark-mode');
            const systemModeBtn = document.querySelector('#system-mode');

            function updateSelected(container, selection) {
                container.querySelectorAll('[aria-checked=true]').forEach(prior_selection => {
                    prior_selection.ariaChecked = false;
                });
                selection.ariaChecked = true;
            }

            // Explicit theme selection
            lightModeBtn.addEventListener('click', function(event) {
                updateSelected(tooltip, lightModeBtn)
                setTheme('light')
                toggleTooltip()
            })
            darkModeBtn.addEventListener('click', () => {
                updateSelected(tooltip, darkModeBtn)
                setTheme('dark')
                toggleTooltip()
            })
            systemModeBtn.addEventListener('click', () => {
                updateSelected(tooltip, systemModeBtn)
                unsetTheme()
                toggleTooltip()
            })
        </script>
    </div>
</div>

        <main
            class="container mx-auto px-5 max-w-prose pt-8 pb-32"
        >
            <h1>December Third and Fourth</h1>

<p class="text-xs">
    04 Dec 2023
    
    
        - <a href="/authors/me.html">Daniel Ramirez</a>
    
</p>

<p>Hectic schedule, uint64, and Malt Ale</p>

<h1 id="day-3">Day 3</h1>

<p>Wins for the day:</p>
<ul>
  <li>Figured out exactly how I would like to structure <code class="language-plaintext highlighter-rouge">func (m *Model) highlightColumn(colHeader string)</code>
    <ul>
      <li>I will be holding on to a bitboard that describes the current highlighted squares and on each input change this will be updated by ANDing or XORing the bitboard with uint64 bitmasks (i think that‚Äôs the term) built via taking two to the power of the indexes that need their values updated
        <ul>
          <li>Had to introduce the short-lived <code class="language-plaintext highlighter-rouge">func intPow(n, m int) int</code> for this</li>
        </ul>
      </li>
      <li>It did not work :)</li>
      <li>In the shower after the second coding session of the day (busy day) it occurred to me it would likely be less expensive to construct a string every time and then parse to binary and cast to uint64</li>
    </ul>
  </li>
  <li>Pictures
    <ul>
      <li>Initial Board
  <img src="/assets/dbc-day-3-init-board.png" alt="chess board inside terminal with simple prompts for player input" /></li>
      <li>Broken Highlight
  <img src="/assets/dbc-day-3-broken-highlight-1.png" alt="chess board inside terminal with E as player input and D8 highlighted, this of course being not helpful information" /></li>
      <li>Even more broken
  <img src="/assets/dbc-day-3-broken-highlight-2.png" alt="chess board inside terminal with Efoobar as player input and D8 highlighted, this is even less helpful than the last highlight" />
  highlight only changes if another highlight can take it‚Äôs place</li>
    </ul>
  </li>
</ul>

<p>Notes:</p>
<ul>
  <li>Still some tough spots from no time blocking</li>
</ul>

<p>Next:</p>
<ul>
  <li>Fix highlight system
    <ul>
      <li>Construct highlight bitboard on each input update</li>
    </ul>
  </li>
  <li>Replace existing tutorial notifications (errors, hints, etc)
    <ul>
      <li>Currently there‚Äôs a basic validation system the is shoved right above the input field and does not have enough room to be legible</li>
      <li>Likely popovers?</li>
    </ul>
  </li>
</ul>

<h1 id="day-4">Day 4</h1>

<p>Wins:</p>
<ul>
  <li>Time blocked from 10pm to 1am :‚Äì)
    <ul>
      <li>and i got some Dead Guy Ale during my Monday errands (6/10 would buy again in a pinch)</li>
    </ul>
  </li>
  <li>Fixed the column highlights, now have basic full column</li>
</ul>

<p>Notes:</p>
<ul>
  <li>Was not actually able to keep working past midnight, the tiredness got to me</li>
</ul>

<p>Next:</p>
<ul>
  <li>Move specific highlighting based on filtering a combination of all pieces on board and all moves that can be made
    <ul>
      <li>one rune filters to pieces in that column
        <ul>
          <li>ex: e</li>
        </ul>
      </li>
      <li>two runes filters to possible moves for the piece on the specific square
        <ul>
          <li>ex: e2</li>
        </ul>
      </li>
      <li>three runes filters to all possible moves for that piece on the specific
        <ul>
          <li>ex: e2e</li>
        </ul>
      </li>
      <li>fully-specified moves must transition to validation system that is not designed yet</li>
    </ul>
  </li>
  <li>define validation system
    <ul>
      <li>perhaps text box with eye catching board that appears to the left of the board since that as of now the board is <em>right</em> up against the terminal window</li>
    </ul>
  </li>
  <li>restarting game? and other considerations for menuing
    <ul>
      <li>maybe game starts immediately on entering based on command line args but the user can at anytime restart based on args OR go to interactive game setup menu
        <ul>
          <li>similar to vitetris</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>


        </main>
    </body>
</html>
